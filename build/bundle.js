!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);var n={leftSliderSide:document.getElementById("leftArrow"),rightSliderSide:document.getElementById("rightArrow"),slideArray:document.getElementsByClassName("item"),blockForDots:document.getElementById("dotsBlock"),dotsArray:document.getElementsByClassName("dot")},s=e=>{for(let t=0;t<e.length;t++)if(e[t].classList.contains("isActiveImg"))return t},r=(e,t,i)=>{t[e].classList.toggle("isActiveImg"),i[e].classList.toggle("isActiveDot"),0===e?(t[t.length-1].classList.toggle("isActiveImg"),i[t.length-1].classList.toggle("isActiveDot")):(t[e-1].classList.toggle("isActiveImg"),i[e-1].classList.toggle("isActiveDot"))},a=(e,t,i)=>{t[e].classList.toggle("isActiveImg"),i[e].classList.toggle("isActiveDot"),e===t.length-1?(t[0].classList.toggle("isActiveImg"),i[0].classList.toggle("isActiveDot")):(t[e+1].classList.toggle("isActiveImg"),i[e+1].classList.toggle("isActiveDot"))},l=(e,t)=>{for(let i=0;i<e;i++){const e=document.createElement("span");e.setAttribute("class","dot"),t.appendChild(e)}},c=(e,t)=>{t[e].classList.add("isActiveDot")};var o={kitchenMenu:document.getElementById("kitchen"),kitchensList:document.getElementById("menuKitchens"),kitchenArrow:document.getElementById("kitchenArrow"),dishesMenu:document.getElementById("dish"),dishesList:document.getElementById("menuDishes"),dishesArrow:document.getElementById("dishesArrow")},d=(e,t,i,n)=>{e.classList.toggle("isActive"),n.style.transform+="rotate(180deg)",t.classList.contains("isActive")&&(t.classList.toggle("isActive"),i.style.transform+="rotate(180deg)")},g=()=>{o.dishesList.classList.contains("isActive")&&(o.dishesList.classList.toggle("isActive"),o.dishesArrow.style.transform+="rotate(180deg)"),o.kitchensList.classList.contains("isActive")&&(o.kitchensList.classList.toggle("isActive"),o.kitchenArrow.style.transform+="rotate(180deg)")};var u={overlay:document.getElementById("overlay"),modalWrap:document.getElementById("modal__wrap"),loginForm:document.getElementById("loginModal"),loginInput:document.getElementById("loginModal__login"),passwordInput:document.getElementById("loginModal__password"),loginBtn:document.getElementById("login_button"),registerBtn:document.getElementById("register_button"),errorDiv:document.getElementById("error"),errorMsg:document.getElementById("errMsg"),successForm:document.getElementById("successForm"),callbackForm:document.getElementById("callback"),callback:document.getElementById("callbackBtn"),successMsg:document.getElementById("successMsg")},m={isOpenModal:null,overlayOn(){u.overlay.style.display="flex",u.modalWrap.style.display="flex"},overlayOff(){u.overlay.style.display="none",u.modalWrap.style.display="none"},closeByOverlay(){let e=this;u.overlay.addEventListener("click",(function(){e.overlayOff(),document.getElementById(`${e.isOpenModal}`).style.display="none"}))},openModal(e,t){const i=document.getElementById(`${e}`),n=document.getElementById(`${t}`);let s=this;i.addEventListener("click",(function(){s.isOpenModal=t,s.overlayOn(),n.style.display="flex",g()}))},closeModal(e,t){const i=document.getElementById(`${e}`),n=document.getElementById(`${t}`);let s=this;i.addEventListener("click",(function(){s.overlayOff(),n.style.display="none"}))},successCallback(){let e=this;u.successForm.style.display="block",u.successMsg.innerText="The operator will call you back within a minute",setTimeout(()=>{u.successForm.style.display="none",e.overlayOff()},3e3)},callBack(){let e=this;u.callback.addEventListener("click",(function(){e.successCallback(),u.callbackForm.style.display="none"}))}},p={isEmptyInput(e,t,i,n){if(""===e.value||""===t.value)return i.style.display="flex",n.innerText="Field cannot be empty, please try again",!0},isUserInStorage(e,t,i){let n=Object.keys(localStorage);for(let s of n)if(e.value===s)return t.style.display="flex",i.innerText="User with this login already exists",!0},successRegister(e,t,i){e.style.display="none",t.style.display="none",i.style.display="block",u.successMsg.innerText="Your account has been create successfully!",setTimeout(()=>{i.style.display="none",m.overlayOff()},3e3)},registerUser(){let e=this;u.registerBtn.addEventListener("click",(function(){e.isEmptyInput(u.loginInput,u.passwordInput,u.errorDiv,u.errorMsg)||(e.isUserInStorage(u.loginInput,u.errorDiv,u.errorMsg)||(localStorage.setItem(u.loginInput.value,u.passwordInput.value),e.successRegister(u.loginForm,u.errorDiv,u.successForm)),u.loginInput.value="",u.passwordInput.value="")}))},loginUser(){let e=this;u.loginBtn.addEventListener("click",(function(){e.isEmptyInput(u.loginInput,u.passwordInput,u.errorDiv,u.errorMsg)}))}};var h=class{constructor(){this.dishesObj={}}addDish(e,t,i){e[t]=i}getDishes(){return this.dishesObj}clearDishes(){for(let e in this.dishesObj)this.dishesObj.hasOwnProperty(e)&&delete this.dishesObj[e]}};var y=class{constructor(e,t){this.model=e,this.view=t}init(){const e=this.model.getDishes();this.model.addDish(e,"pizzas",JSON.parse('[{\n    "name": "Catania",\n    "price": "215",\n    "id" : "1",\n    "url" : "./src/img/pizzas/Catania.png"\n}, {\n    "name": "Fiorenza",\n    "price": "195",\n    "id" : "2",\n    "url" : "./src/img/pizzas/florenza.png"\n}, {\n    "name": "Bavaria",\n    "price": "247",\n    "id" : "3",\n    "url" : "./src/img/pizzas/bavaria.png"\n}, {\n    "name": "Basilicata",\n    "price": "155",\n    "id" : "4",\n    "url" : "./src/img/pizzas/basilicata.png"\n}, {\n    "name": "Campania",\n    "price": "205",\n    "id" : "5",\n    "url" : "./src/img/pizzas/campania.png"\n}, {\n    "name": "Margherita",\n    "price": "148",\n    "id" : "6",\n    "url" : "./src/img/pizzas/margaritta.png"\n}]')),this.model.addDish(e,"sushi",JSON.parse('[{\n    "name": "Sea Max Set",\n    "price": "389",\n    "id": "7",\n    "url": "./src/img/sushi/seaMax.jpg"\n}, {\n    "name": "Philadelphia Set Max",\n    "price": "569",\n    "id": "8",\n    "url": "./src/img/sushi/philadelphia.jpg"\n}, {\n    "name": "De Lux Set",\n    "price": "639",\n    "id": "9",\n    "url": "./src/img/sushi/deLux.jpg"\n}, {\n    "name": "Campai Set",\n    "price": "349",\n    "id": "10",\n    "url": "./src/img/sushi/campai.jpg"\n}, {\n    "name": "Sea Set Middle",\n    "price": "649",\n    "id": "11",\n    "url": "./src/img/sushi/seaSet.jpg"\n}, {\n    "name": "Philadelphia Set Middle",\n    "price": "479",\n    "id": "12",\n    "url": "./src/img/sushi/philaMiddle.jpg"\n}, {\n    "name": "Salmon Mix Set",\n    "price": "349",\n    "id": "13",\n    "url": "./src/img/sushi/salmon.jpg"\n}]')),this.model.addDish(e,"barbecue",JSON.parse('[{\n    "name": "Chicken wings",\n    "price": "350",\n    "id": "15",\n    "url": "./src/img/bbq/chickenWings.jpg"\n}, {\n    "name": "Lula Kebab",\n    "price": "296",\n    "id": "16",\n    "url": "./src/img/bbq/LulaKebab.jpg"\n}, {\n    "name": "BBQ skewers",\n    "price": "123",\n    "id": "17",\n    "url": "./src/img/bbq/BBQskewers.jpg"\n}, {\n    "name": "Pork skewers",\n    "price": "233",\n    "id": "18",\n    "url": "./src/img/bbq/Porkskewers.jpg"\n}, {\n    "name": "Fillet",\n    "price": "256",\n    "id": "19",\n    "url": "./src/img/bbq/Fillet.jpg"\n}]')),this.model.addDish(e,"khachapuri",JSON.parse('[{\n    "name": "Khachapuri in Imereti",\n    "price": "109",\n    "id": "14",\n    "url": "./src/img/khachapuri/imeteri.jpg"\n}, {\n    "name": "Megrelian khachapuri",\n    "price": "119",\n    "id": "15",\n    "url": "./src/img/khachapuri/megreli.jpg"\n}, {\n    "name": "Kubdari",\n    "price": "124",\n    "id": "16",\n    "url": "./src/img/khachapuri/kubdari.jpg"\n}, {\n    "name": "Khachapuri in Adjarian",\n    "price": "99",\n    "id": "17",\n    "url": "./src/img/khachapuri/adjari.jpg"\n}, {\n    "name": "Khachapuri on the ridge ",\n    "price": "95",\n    "id": "18",\n    "url": "./src/img/khachapuri/rizna.jpg"\n}, {\n    "name": "Achma",\n    "price": "85",\n    "id": "19",\n    "url": "./src/img/khachapuri/achme.jpg"\n}]')),this.view.drawList(e)}};var v=class{constructor(){}createBox({tag:e,className:t,id:i,inner:n}){const s=document.createElement(e);if(s.classList.add(t),s.setAttribute("id",i),Array.isArray(n))for(let e=0;e<n.length;e++)s.append(n[e]);else n&&s.append(n);return s}dishConstructor(e,t,i,n){const s=this.createBox({tag:"img",className:"thing__img",id:`thing__img${n}`}),r=this.createBox({tag:"p",className:"thing__name",id:`thing__name${n}`}),a=this.createBox({tag:"p",className:"thing__price",id:`thing__price${n}`}),l=this.createBox({tag:"button",className:"thing__toBasket",id:`thing__price${n}`});s.setAttribute("src",e),r.innerText=t,a.innerText=`₴${i}`,l.innerText="Заказать";const c=this.createBox({tag:"div",className:"thing",id:`thing__price${n}`,inner:[s,r,a,l]});document.getElementById("dishesKitchens").append(c)}drawDishes(e){e.forEach(e=>{this.dishConstructor(e.url,e.name,e.price,e.id)})}clearDishContainer(){const e=document.getElementById("container__dishesKitchens");document.getElementById("dishesKitchens").remove();const t=this.createBox({tag:"div",className:"dishesKitchens",id:"dishesKitchens"});e.append(t)}drawList(e){const t=document.getElementsByClassName("menu__dishes");let i=this;for(let n=0;n<t.length;n++)t[n].addEventListener("click",(function(t){i.clearDishContainer();let n=t.target.getAttribute("id");if("allDishes"===n)for(let t in e)e.hasOwnProperty(t)&&i.drawDishes(e[t]);else i.drawDishes(e[n])}))}};!function(){(()=>{l(n.slideArray.length,n.blockForDots),c(s(n.slideArray),n.dotsArray),n.leftSliderSide.addEventListener("click",(function(){r(s(n.slideArray),n.slideArray,n.dotsArray)})),n.rightSliderSide.addEventListener("click",(function(){a(s(n.slideArray),n.slideArray,n.dotsArray)}));((e,t)=>{for(let i=0;i<e.length;i++)e[i].addEventListener("click",(function(){e[s(t)].classList.toggle("isActiveDot"),c(i,e),t[s(t)].classList.toggle("isActiveImg"),t[i].classList.toggle("isActiveImg")}))})(n.dotsArray,n.slideArray)})(),o.kitchenMenu.addEventListener("click",(function(e){e.stopPropagation(),d(o.kitchensList,o.dishesList,o.dishesArrow,o.kitchenArrow)})),o.dishesMenu.addEventListener("click",(function(e){e.stopPropagation(),d(o.dishesList,o.kitchensList,o.kitchenArrow,o.dishesArrow)})),m.openModal("delivery","deliver"),m.closeModal("deliver__close","deliver"),m.openModal("call","callback"),m.closeModal("callback__close","callback"),m.openModal("login","loginModal"),m.closeModal("loginModal__close","loginModal"),m.closeByOverlay(),m.callBack(),p.registerUser(),p.loginUser();const e=new v,t=new h;new y(t,e).init()}()}]);